<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>リンク期限切れ - 画像条件便</title>
    <meta name="description" content="このリンクは有効期限が切れています。画像条件便で新しいリンクを生成してください。">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>⏰</text></svg>">
</head>
<body>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8 col-xl-6">
                <div class="main-card expired-card">
                    <!-- 期限切れアイコン -->
                    <div class="expired-icon">⏰</div>
                    
                    <!-- タイトル -->
                    <h1 class="expired-title">リンク期限切れ</h1>
                    
                    <!-- メッセージ -->
                    <div class="expired-message">
                        <p class="mb-3">
                            申し訳ございませんが、このリンクは有効期限が切れています。
                        </p>
                        <p class="mb-0">
                            再度配布を受けてください。
                        </p>
                    </div>

                    <!-- フッター -->
                    <div class="footer">
                        <p class="mt-3">
                            <small class="text-muted">
                                🛡️ プライバシー保護のため、アップロードされた画像はサーバーに保存されません。<br>
                                すべての処理はお使いのブラウザ内で完了します。
                            </small>
                        </p>
                        <p class="text-muted mb-0">
                            <strong>画像条件便</strong> - 画像ファイル変換サービス<br>
                            <small>© 2025 画像条件便. All rights reserved.</small>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container">
        <div id="toast" class="toast align-items-center border-0" role="alert">
            <div class="d-flex">
                <div class="toast-body" id="toastMessage"></div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="閉じる"></button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script src="main.js"></script>

    <!-- ページ固有の JavaScript -->
    <script>
        // 期限切れページ固有の初期化処理
        document.addEventListener('DOMContentLoaded', function() {
            // カウントダウンや統計情報の表示
            displayPageStats();
            
            // アニメーション効果の追加
            animateElements();
        });

        /**
         * ページ統計情報を表示
         */
        function displayPageStats() {
            // 訪問回数をローカルストレージで管理
            let visitCount = parseInt(localStorage.getItem('expiredPageVisits') || '0');
            visitCount++;
            localStorage.setItem('expiredPageVisits', visitCount.toString());
            
            // 統計情報を表示
            // if (visitCount > 1) {
            //     const statsElement = document.createElement('div');
            //     statsElement.className = 'alert alert-light mt-3';
            //     statsElement.innerHTML = `
            //         <small class="text-muted">
            //             📊 期限切れページへの訪問回数: ${visitCount}回<br>
            //             💡 頻繁に期限切れになる場合は、無期限URLの利用をおすすめします。
            //         </small>
            //     `;
            //     document.querySelector('.expired-card').appendChild(statsElement);
            // }
        }

        /**
         * 要素のアニメーション
         */
        function animateElements() {
            // アコーディオンのカスタムアニメーション
            const accordionButtons = document.querySelectorAll('.accordion-button');
            accordionButtons.forEach(button => {
                button.addEventListener('click', function() {
                    this.style.transform = 'scale(0.98)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1)';
                    }, 100);
                });
            });

            // ボタンホバー効果の強化
            const actionButtons = document.querySelectorAll('.btn-lg');
            actionButtons.forEach(button => {
                button.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-3px) scale(1.02)';
                });
                button.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });
        }

        // リンクの有効性チェック（開発用）
        function checkLinksAvailability() {
            const links = document.querySelectorAll('a[href]');
            links.forEach(link => {
                link.addEventListener('click', function(e) {
                    const href = this.getAttribute('href');
                    if (href.startsWith('http') && !href.includes(window.location.host)) {
                        // 外部リンクの場合は警告
                        if (!confirm('外部サイトに移動します。よろしいですか？')) {
                            e.preventDefault();
                        }
                    }
                });
            });
        }

        // 初期化
        checkLinksAvailability();
    </script>
</body>
</html>