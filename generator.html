<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URL生成 - 画像条件便</title>
    <meta name="description" content="画像変換の条件を設定してURLを生成し、短縮URLを作成できます。">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🔗</text></svg>">
</head>
<body>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10 col-xl-8">
                <div class="main-card">
                    <!-- ヘッダー -->
                    <div class="header">
                        <h1>🔗 画像条件便</h1>
                        <p class="subtitle">条件を設定して変換URLを生成し、短縮URLを作成できます</p>
                    </div>

                    <!-- ナビゲーション -->
                    <nav class="d-flex justify-content-center mb-4">
                        <ul class="nav nav-pills">
                            <li class="nav-item">
                                <a class="nav-link" href="index.html">📸 変換ツール</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link active" href="generator.html">🔗 URL生成</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="expired.html">ℹ️ 期限切れページ</a>
                            </li>
                        </ul>
                    </nav>

                    <!-- 設定フォーム -->
                    <form id="paramForm">
                        <div class="row">
                            <!-- 左カラム -->
                            <div class="col-lg-6">
                                <!-- 画像比率 -->
                                <div class="mb-4">
                                    <label class="form-label fw-semibold">📐 画像比率</label>
                                    <div class="d-flex flex-wrap gap-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="ratio169" name="ratio" value="16:9" checked>
                                            <label class="form-check-label" for="ratio169">16:9</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="ratio43" name="ratio" value="4:3">
                                            <label class="form-check-label" for="ratio43">4:3</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="ratio11" name="ratio" value="1:1">
                                            <label class="form-check-label" for="ratio11">1:1</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="ratio32" name="ratio" value="3:2">
                                            <label class="form-check-label" for="ratio32">3:2</label>
                                        </div>
                                    </div>
                                </div>

                                <!-- 縦横向き -->
                                <div class="mb-4">
                                    <label class="form-label fw-semibold">🔄 縦横向き</label>
                                    <div class="d-flex gap-4">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="orientLandscape" name="orient" value="landscape" checked>
                                            <label class="form-check-label" for="orientLandscape">横向き</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="orientPortrait" name="orient" value="portrait">
                                            <label class="form-check-label" for="orientPortrait">縦向き</label>
                                        </div>
                                    </div>
                                </div>

                                <!-- 最大ファイルサイズ -->
                                <div class="mb-4">
                                    <label for="maxSize" class="form-label fw-semibold">🗜️ 最大ファイルサイズ (KB)</label>
                                    <input type="number" id="maxSize" name="maxSize" class="form-control" value="1000" min="100" max="5000">
                                    <div class="form-text">100KB〜5000KBの範囲で指定してください</div>
                                </div>

                                <!-- 画像形式 -->
                                <div class="mb-4">
                                    <label class="form-label fw-semibold">🎨 画像形式</label>
                                    <div class="d-flex gap-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="formatJpeg" name="format" value="jpeg" checked>
                                            <label class="form-check-label" for="formatJpeg">JPEG</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="formatPng" name="format" value="png">
                                            <label class="form-check-label" for="formatPng">PNG</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="formatWebp" name="format" value="webp">
                                            <label class="form-check-label" for="formatWebp">WebP</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 右カラム -->
                            <div class="col-lg-6">
                                <!-- 最大幅 -->
                                <div class="mb-4">
                                    <label for="maxW" class="form-label fw-semibold">📏 最大幅 (px)</label>
                                    <input type="number" id="maxW" name="maxW" class="form-control" value="1920" min="100" max="4000">
                                </div>

                                <!-- 最大高さ -->
                                <div class="mb-4">
                                    <label for="maxH" class="form-label fw-semibold">📐 最大高さ (px)</label>
                                    <input type="number" id="maxH" name="maxH" class="form-control" value="1080" min="100" max="4000">
                                </div>

                                <!-- 説明 -->
                                <div class="mb-4">
                                    <label for="desc" class="form-label fw-semibold">📝 説明 (任意)</label>
                                    <input type="text" id="desc" name="desc" class="form-control" placeholder="例：UNIDOL画像用、プロフィール画像用">
                                    <div class="form-text">用途や目的を記入すると管理しやすくなります</div>
                                </div>
                            </div>
                        </div>
                    </form>

                    <!-- URL表示エリア -->
                    <div class="url-display mb-4">
                        <h5 class="fw-bold mb-3">📝 生成されたURL</h5>
                        <div class="mb-3">
                            <textarea id="generatedUrl" class="form-control url-text" rows="4" readonly placeholder="条件を変更すると自動更新されます"></textarea>
                        </div>
                        <div class="d-grid gap-2 d-md-flex">
                            <button id="copyUrlBtn" class="btn btn-outline-primary">📋 URLをコピー</button>
                            <button id="openUrlBtn" class="btn btn-success">🔗 URLを開く</button>
                        </div>
                    </div>

                    <!-- 短縮URL作成ボタン -->
                    <div class="text-center mb-4">
                        <button id="createShortBtn" class="btn btn-primary btn-lg px-5">
                            <span id="createBtnText">🔗 短縮URLを作成</span>
                            <span id="loadingSpinner" class="loading-spinner d-none ms-2"></span>
                        </button>
                    </div>

                    <!-- 結果表示エリア -->
                    <div id="resultSection" class="d-none">
                        <!-- 結果がここに動的表示されます -->
                    </div>

                    <!-- 機能説明 -->
                    <div class="info-grid">
                        <div class="info-item">
                            <h3>⚙️ 条件設定</h3>
                            <p>画像の比率、サイズ、形式などを詳細に設定して、専用の変換URLを生成できます。</p>
                        </div>
                        <div class="info-item">
                            <h3>🔗 短縮URL</h3>
                            <p>生成されたURLを短縮して、共有しやすくします。</p>
                        </div>
                        <div class="info-item">
                            <h3>📱 共有機能</h3>
                            <p>作成したURLは簡単にコピー・共有でき、同じ条件での変換を他の人と共有できます。</p>
                        </div>
                        <div class="info-item">
                            <h3>📝 情報整理</h3>
                            <p>用途や目的などの説明を添えて短縮URLを管理できます。</p>
                        </div>
                    </div>

                    <!-- 使用方法ガイド -->
                    <div class="card mt-4">
                        <div class="card-body">
                            <h5 class="card-title">📖 使用方法ガイド</h5>
                            <div class="row">
                                <div class="col-md-6">
                                    <h6 class="text-primary">1️⃣ 変換条件の設定</h6>
                                    <ul class="list-unstyled small">
                                        <li>📐 <strong>画像比率:</strong> 16:9, 4:3, 1:1, 3:2から選択</li>
                                        <li>🔄 <strong>縦横向き:</strong> 横向き・縦向きを指定</li>
                                        <li>🗜️ <strong>ファイルサイズ:</strong> 100KB〜5000KBで上限設定</li>
                                        <li>🎨 <strong>出力形式:</strong> JPEG, PNG, WebPに変換</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6 class="text-success">2️⃣ URL生成と短縮</h6>
                                    <ul class="list-unstyled small">
                                        <li>📝 <strong>自動生成:</strong> 設定変更で即座にURL更新</li>
                                        <li>🔗 <strong>短縮URL:</strong> Short.io APIで短縮リンク作成</li>
                                        <li>📋 <strong>簡単共有:</strong> ワンクリックでコピー可能</li>
                                        <li>📝 <strong>説明付き:</strong> 用途メモをURLに添付</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 活用例 -->
                    <div class="card mt-4">
                        <div class="card-body">
                            <h5 class="card-title">💡 活用例</h5>
                            <div class="row">
                                <div class="col-lg-4">
                                    <div class="text-center mb-3">
                                        <div class="display-6 mb-2">📱</div>
                                        <h6>SNS投稿用</h6>
                                        <p class="small text-muted">Instagram用に1:1、Twitter用に16:9で自動調整</p>
                                    </div>
                                </div>
                                <div class="col-lg-4">
                                    <div class="text-center mb-3">
                                        <div class="display-6 mb-2">👥</div>
                                        <h6>チーム作業</h6>
                                        <p class="small text-muted">統一された画像規格をURLで共有</p>
                                    </div>
                                </div>
                                <div class="col-lg-4">
                                    <div class="text-center mb-3">
                                        <div class="display-6 mb-2">🎯</div>
                                        <h6>マーケティング</h6>
                                        <p class="small text-muted">キャンペーン用画像の一括処理URL</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 技術仕様 -->
                    <div class="card mt-4">
                        <div class="card-body">
                            <h5 class="card-title">🔧 技術仕様</h5>
                            <div class="row">
                                <div class="col-md-6">
                                    <h6>対応画像形式</h6>
                                    <ul class="small">
                                        <li><strong>入力:</strong> JPEG, PNG, WebP, GIF, BMP</li>
                                        <li><strong>出力:</strong> JPEG, PNG, WebP</li>
                                        <li><strong>最大サイズ:</strong> 10MB</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6>URL仕様</h6>
                                    <ul class="small">
                                        <li><strong>短縮サービス:</strong> Short.io API</li>
                                        <li><strong>期限切れ時リダイレクト:</strong> 専用ページに転送</li>
                                        <li><strong>説明:</strong> 任意のテキストを設定可能</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container">
        <div id="toast" class="toast align-items-center border-0" role="alert">
            <div class="d-flex">
                <div class="toast-body" id="toastMessage"></div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="閉じる"></button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script src="main.js"></script>
</body>
</html>